<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RescueLink | Emergency Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-900 text-white min-h-screen flex flex-col items-center p-6">

    <header class="text-center my-8">
        <h1 class="text-3xl font-black text-red-500 tracking-tighter">RESCUELINK</h1>
        <p class="text-slate-400 text-xs">Problem Statement ID: CS05TS</p>
    </header>

    <div id="hero-section" class="flex flex-col items-center">
        <button id="sosButton" class="bg-red-600 hover:bg-red-700 w-48 h-48 rounded-full border-4 border-red-900 shadow-[0_0_50px_rgba(220,38,38,0.3)] transition-all active:scale-90 flex flex-col items-center justify-center">
            <span class="text-5xl mb-1">üÜò</span>
            <span class="font-bold text-sm">SEND SOS</span>
        </button>
        <p id="statusUpdate" class="mt-6 text-slate-400 text-sm animate-pulse">Tap button to start</p>
    </div>

    <div id="detailsForm" class="hidden w-full max-w-md bg-slate-800 p-6 rounded-2xl border border-slate-700 shadow-xl mt-4">
        <h2 class="text-xl font-bold mb-4 text-red-400">Accident Details</h2>
        <div class="space-y-4 text-slate-900">
            <div>
                <label class="block text-slate-300 text-sm mb-1">Your Name (Optional)</label>
                <input type="text" id="userName" placeholder="Enter name" class="w-full p-3 rounded-lg bg-slate-100 outline-none focus:ring-2 focus:ring-red-500">
            </div>
            <div>
                <label class="block text-slate-300 text-sm mb-1">Emergency Type</label>
                <select id="emergencyType" class="w-full p-3 rounded-lg bg-slate-100 outline-none focus:ring-2 focus:ring-red-500">
                    <option value="Road Accident">üöó Road Accident</option>
                    <option value="Medical Emergency">üöë Medical Emergency</option>
                    <option value="Fire">üî• Fire</option>
                    <option value="Other">‚ùì Other</option>
                </select>
            </div>
            <button id="submitDetails" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-lg transition-colors">
                CONFIRM & DISPATCH
            </button>
        </div>
    </div>

    <script>
        const sosBtn = document.getElementById('sosButton');
        const status = document.getElementById('statusUpdate');
        const form = document.getElementById('detailsForm');
        let userLocation = "";

        sosBtn.addEventListener('click', () => {
            status.innerText = "Capturing precise GPS...";
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition((position) => {
                    userLocation = `Lat: ${position.coords.latitude}, Lon: ${position.coords.longitude}`;
                    
                    // Hide Button, Show Form
                    document.getElementById('hero-section').classList.add('hidden');
                    form.classList.remove('hidden');
                }, () => {
                    status.innerText = "Error: Enable GPS to continue.";
                });
            }
        });

        document.getElementById('submitDetails').addEventListener('click', () => {
            const name = document.getElementById('userName').value || "Anonymous";
            const type = document.getElementById('emergencyType').value;
            
            alert(`DATA SENT TO DISPATCH:\nName: ${name}\nType: ${type}\nLocation: ${userLocation}`);
            
            form.innerHTML = `
                <div class="text-center py-6">
                    <div class="text-5xl mb-4 text-green-500">‚úÖ</div>
                    <h3 class="text-2xl font-bold">Help is on the way!</h3>
                    <p class="text-slate-400 mt-2">Ambulance dispatched to your GPS location.</p>
                </div>
            `;
        });
    </script>
</body>
</html>
